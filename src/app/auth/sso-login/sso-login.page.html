<csaa-loading [visible]="isLoading$|async"></csaa-loading>
<ion-content [fullscreen]="true">
  <div>
    <h2>SSO Bypass</h2>
    <ion-grid>
      <form [formGroup]="form" (submit)="submit()">
        <ion-row>
          <ion-col>
            <ion-label position="fixed">Email</ion-label>
            <ion-input
              type="email"
              placeholder="example@email.com"
              name="email"
              formControlName="email"
              data-test="email"
              (keyup.enter)="submit()"
            ></ion-input>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col class="ion-text-center">
            <ion-button expand="block" type="submit" data-test="login" [disabled]="form.disabled"
              >Login</ion-button
            >
          </ion-col>
        </ion-row>
      </form>
      <ion-row>
        <ion-col class="ion-text-center">
          <ion-button (click)="goBack()" fill="none" data-test="back" [disabled]="form.disabled"
            >Back</ion-button
          >
        </ion-col>
      </ion-row>
      <ion-row *ngIf="error">
        <ion-col>
          <h2 class="ion-text-center" data-test="error">Login failed</h2>
          <ion-label color="danger" data-test="error-message">{{error}}</ion-label>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="(translatorError$ | async)">
        <ion-col>
          <h2 class="ion-text-center" data-test="error">Translator Service error</h2>
          <ion-label color="danger" data-test="error-message"
            >{{ (translatorError$ | async)}}</ion-label
          >
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
